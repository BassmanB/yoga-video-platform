---
description: Kompleksowy plan testÃ³w dla Platformy do UdostÄ™pniania NagraÅ„ Ä†wiczeÅ„ Fizycznych
globs: 
alwaysApply: false
---

# Plan TestÃ³w - Platforma do UdostÄ™pniania NagraÅ„ Ä†wiczeÅ„ Fizycznych

**Wersja:** 1.0  
**Data:** 24 stycznia 2026  
**Status:** Gotowy do Realizacji  
**Projekt:** Yoga Video Platform MVP  

---

## 1. Wprowadzenie i Cele Testowania

### 1.1 Cel Dokumentu

Niniejszy dokument okreÅ›la kompleksowÄ… strategiÄ™ testowania dla platformy do udostÄ™pniania nagraÅ„ wideo z Ä‡wiczeniami fizycznymi (yoga, mobilnoÅ›Ä‡, kalistenika). Plan obejmuje wszystkie aspekty testowania dla MVP/POC, uwzglÄ™dniajÄ…c ograniczenia czasowe (3 tygodnie development) oraz maÅ‚Ä… grupÄ™ docelowÄ… (~20 uÅ¼ytkownikÃ³w).

### 1.2 Cele Testowania

**GÅ‚Ã³wne cele:**
- âœ… Weryfikacja poprawnoÅ›ci przepÅ‚ywÃ³w autentykacji (invite-only + magic link)
- âœ… Zapewnienie prawidÅ‚owej kontroli dostÄ™pu do treÅ›ci premium
- âœ… Potwierdzenie stabilnoÅ›ci odtwarzania wideo dla wszystkich rÃ³l uÅ¼ytkownikÃ³w
- âœ… Weryfikacja bezpieczeÅ„stwa (RLS policies, session management)
- âœ… Sprawdzenie responsywnoÅ›ci i dostÄ™pnoÅ›ci UI
- âœ… Identyfikacja bÅ‚Ä™dÃ³w krytycznych przed wdroÅ¼eniem produkcyjnym

**Kryteria sukcesu:**
- Zero bÅ‚Ä™dÃ³w krytycznych (blokujÄ…cych uÅ¼ytkowanie)
- Pokrycie testami wszystkich user stories z PRD
- WydajnoÅ›Ä‡: Å‚adowanie strony < 3s, odtwarzanie wideo bez przerw
- 100% scenariuszy autentykacji dziaÅ‚a poprawnie
- Kontrola dostÄ™pu dziaÅ‚a zgodnie z rolami (free/premium/admin)

---

## 2. Zakres TestÃ³w

### 2.1 FunkcjonalnoÅ›ci w Zakresie

**ModuÅ‚ Autentykacji (Wysoki Priorytet):**
- âœ… Invite Flow - zaproszenie nowych uÅ¼ytkownikÃ³w przez admina
- âœ… Magic Link Login - logowanie istniejÄ…cych uÅ¼ytkownikÃ³w
- âœ… Google OAuth (opcjonalnie)
- âœ… Session management i auto-refresh
- âœ… Wylogowanie
- âœ… ObsÅ‚uga bÅ‚Ä™dÃ³w autentykacji

**ModuÅ‚ ZarzÄ…dzania TreÅ›ciÄ… Wideo (Wysoki Priorytet):**
- âœ… PrzeglÄ…danie listy nagraÅ„ (strona gÅ‚Ã³wna)
- âœ… Filtrowanie po kategorii (yoga/mobility/calisthenics)
- âœ… Filtrowanie po poziomie (beginner/intermediate/advanced)
- âœ… Filtrowanie po typie dostÄ™pu (free/premium)
- âœ… WyÅ›wietlanie szczegÃ³Å‚Ã³w nagrania
- âœ… Odtwarzanie wideo z kontrolkami (play/pause/volume/fullscreen)

**Kontrola DostÄ™pu (Krytyczny Priorytet):**
- âœ… Premium Gate dla uÅ¼ytkownikÃ³w free
- âœ… DostÄ™p do premium content dla uÅ¼ytkownikÃ³w premium/admin
- âœ… RLS policies w Supabase
- âœ… Redirect do logowania dla niezalogowanych przy premium content

**API Endpoints (Åšredni Priorytet):**
- âœ… GET /api/videos - lista nagraÅ„ z filtrowaniem
- âœ… GET /api/videos/:id - szczegÃ³Å‚y pojedynczego nagrania
- âœ… GET /api/health - health check
- âœ… POST /api/auth/logout - wylogowanie

**UI/UX (Åšredni Priorytet):**
- âœ… ResponsywnoÅ›Ä‡ (mobile, tablet, desktop)
- âœ… Dark theme
- âœ… Loading states (skeleton loaders)
- âœ… Error states (user-friendly komunikaty)
- âœ… Accessibility (keyboard navigation, screen readers)

### 2.2 FunkcjonalnoÅ›ci Poza Zakresem MVP

**Nie testujemy w tej iteracji:**
- âŒ Admin panel (zarzÄ…dzanie wideo przez UI) - admin uÅ¼ywa Supabase Dashboard
- âŒ Upload wideo przez UI - admin uploaduje bezpoÅ›rednio do Supabase Storage
- âŒ PÅ‚atnoÅ›ci online - upgrade roli rÄ™czny przez admina
- âŒ User profile management - brak edycji profilu w MVP
- âŒ Playlisty uÅ¼ytkownikÃ³w
- âŒ System komentarzy
- âŒ Analytics i tracking uÅ¼ytkownikÃ³w
- âŒ Wyszukiwarka peÅ‚notekstowa
- âŒ Multi-language support (tylko polski)
- âŒ Light theme (tylko dark)

### 2.3 Ograniczenia Zakres TestÃ³w

**Åšrodowisko:**
- Testowanie na przeglÄ…darkach: Chrome, Firefox, Safari (mobile)
- UrzÄ…dzenia: Desktop (1920x1080), Tablet (768x1024), Mobile (375x812)
- System operacyjny: Windows 10+, macOS, iOS, Android

**Dane testowe:**
- 3-4 testowe nagrania wideo (~2 min kaÅ¼de)
- ~5 uÅ¼ytkownikÃ³w testowych (2 free, 2 premium, 1 admin)
- Testowy projekt Supabase

---

## 3. Typy TestÃ³w do Przeprowadzenia

### 3.1 Testy Funkcjonalne (Manual Testing)

**Priorytet:** Wysoki  
**OdpowiedzialnoÅ›Ä‡:** Developer/QA  
**CzÄ™stotliwoÅ›Ä‡:** Przed kaÅ¼dym deploymentem

**Obszary:**
- Wszystkie user stories z PRD
- Wszystkie przepÅ‚ywy autentykacji
- Wszystkie scenariusze kontroli dostÄ™pu
- CRUD operations na wideo (przez API)
- ObsÅ‚uga bÅ‚Ä™dÃ³w (wszystkie edge cases)

**NarzÄ™dzia:**
- Browser DevTools
- Supabase Dashboard (weryfikacja RLS, auth events)
- Manual test checklist (Excel/Notion)

### 3.2 Testy Integracyjne (API Testing)

**Priorytet:** Wysoki  
**OdpowiedzialnoÅ›Ä‡:** Developer  
**CzÄ™stotliwoÅ›Ä‡:** Po kaÅ¼dej zmianie w API

**Obszary:**
- Integracja Astro API routes z Supabase
- Session management w middleware
- RLS policies enforcement
- Storage URL generation (signed URLs dla premium)

**NarzÄ™dzia:**
- Postman/Insomnia (kolekcja requestÃ³w)
- Supabase Client JS (testy w console)
- Browser Network tab

### 3.3 Testy BezpieczeÅ„stwa (Security Testing)

**Priorytet:** Krytyczny  
**OdpowiedzialnoÅ›Ä‡:** Developer  
**CzÄ™stotliwoÅ›Ä‡:** Przed wdroÅ¼eniem produkcyjnym

**Obszary:**
- RLS policies - prÃ³ba dostÄ™pu do premium content bez uprawnieÅ„
- Session hijacking - prÃ³ba uÅ¼ycia cudzego tokenu
- CSRF protection - weryfikacja SameSite cookies
- XSS prevention - test injection w opisach wideo
- SQL injection - test injection w API params (mimo Å¼e Supabase chroni)
- Email enumeration - weryfikacja jednolitych komunikatÃ³w

**Checklist:**
- [ ] HttpOnly cookies ustawione
- [ ] HTTPS only w production
- [ ] RLS enabled na wszystkich tabelach
- [ ] Rate limiting na resend email
- [ ] Input validation (Zod schemas)
- [ ] Error messages nie ujawniajÄ… danych wraÅ¼liwych

### 3.4 Testy WydajnoÅ›ciowe (Performance Testing)

**Priorytet:** Åšredni  
**OdpowiedzialnoÅ›Ä‡:** Developer  
**CzÄ™stotliwoÅ›Ä‡:** Przed wdroÅ¼eniem produkcyjnym

**Metryki:**
- â±ï¸ Åadowanie strony gÅ‚Ã³wnej < 3s (LCP)
- â±ï¸ First Contentful Paint < 1.5s
- â±ï¸ Time to Interactive < 3.5s
- â±ï¸ API response time < 500ms (95th percentile)
- â±ï¸ Video playback start < 2s
- ğŸ“¦ Bundle size < 500KB (initial load)

**NarzÄ™dzia:**
- Lighthouse (Chrome DevTools)
- WebPageTest.org
- Supabase Dashboard (query performance)

### 3.5 Testy ResponsywnoÅ›ci (Responsive Testing)

**Priorytet:** Wysoki  
**OdpowiedzialnoÅ›Ä‡:** Developer/QA  
**CzÄ™stotliwoÅ›Ä‡:** Po kaÅ¼dej zmianie UI

**Breakpoints:**
- ğŸ“± Mobile: 375px, 414px (iPhone)
- ğŸ“± Tablet: 768px, 1024px (iPad)
- ğŸ–¥ï¸ Desktop: 1280px, 1920px

**Testy:**
- Layout nie pÄ™ka na Å¼adnym breakpoincie
- Touch targets min 44x44px (mobile)
- Text readable bez zoom (min 16px)
- Video player dziaÅ‚a na wszystkich urzÄ…dzeniach
- Navbar collapse na mobile

**NarzÄ™dzia:**
- Chrome DevTools (device emulation)
- BrowserStack (real devices - opcjonalnie)
- Responsive design mode (Firefox)

### 3.6 Testy DostÄ™pnoÅ›ci (Accessibility Testing)

**Priorytet:** Åšredni  
**OdpowiedzialnoÅ›Ä‡:** Developer  
**CzÄ™stotliwoÅ›Ä‡:** Przed wdroÅ¼eniem produkcyjnym

**Standardy:** WCAG 2.1 Level AA (minimum)

**Obszary:**
- âŒ¨ï¸ Keyboard navigation (Tab, Enter, Escape)
- ğŸ”Š Screen reader compatibility (NVDA/VoiceOver)
- ğŸ¨ Contrast ratio > 4.5:1 (text), > 3:1 (UI components)
- ğŸ·ï¸ Alt text dla obrazÃ³w
- ğŸ“„ Semantic HTML (headings, landmarks)
- â™¿ ARIA labels gdzie potrzebne

**NarzÄ™dzia:**
- axe DevTools (Chrome extension)
- Lighthouse accessibility audit
- NVDA/VoiceOver (manual testing)

### 3.7 Testy Regresji (Regression Testing)

**Priorytet:** Åšredni  
**OdpowiedzialnoÅ›Ä‡:** QA  
**CzÄ™stotliwoÅ›Ä‡:** Przed kaÅ¼dym wdroÅ¼eniem

**Zakres:**
- Smoke tests (critical paths)
- Poprzednie bug fixes (re-testing)
- Kluczowe user flows

**Checklist skrÃ³cony (smoke tests):**
- [ ] Strona gÅ‚Ã³wna Å‚aduje siÄ™ poprawnie
- [ ] Lista nagraÅ„ wyÅ›wietla siÄ™
- [ ] Filtrowanie dziaÅ‚a
- [ ] Logowanie przez magic link dziaÅ‚a
- [ ] Premium gate wyÅ›wietla siÄ™ dla free users
- [ ] Video playback dziaÅ‚a dla uprawnionego uÅ¼ytkownika

---

## 4. Scenariusze Testowe dla Kluczowych FunkcjonalnoÅ›ci

### 4.1 ModuÅ‚ Autentykacji

#### TC-AUTH-001: Invite Flow - Nowy UÅ¼ytkownik

**Priorytet:** Krytyczny  
**User Story:** US-05

**Warunki poczÄ…tkowe:**
- Admin ma dostÄ™p do Supabase Dashboard
- Email uÅ¼ytkownika nie istnieje w systemie

**Kroki:**
1. Admin loguje siÄ™ do Supabase Dashboard
2. Nawigacja: Authentication â†’ Users â†’ Invite user
3. WypeÅ‚nienie formularza:
   - Email: `testuser@example.com`
   - User Metadata: `{"role": "premium", "display_name": "Test User"}`
4. KlikniÄ™cie "Invite user"
5. UÅ¼ytkownik otwiera email "Invite User Email"
6. KlikniÄ™cie linku w emailu
7. Redirect do `/auth/callback?token_hash=...&type=invite`

**Oczekiwany rezultat:**
- âœ… Email wysÅ‚any w < 5s
- âœ… Link w emailu jest aktywny
- âœ… Po klikniÄ™ciu linku - konto utworzone automatycznie
- âœ… Auto-login (session ustawiona)
- âœ… Redirect do `/` (strona gÅ‚Ã³wna)
- âœ… Navbar wyÅ›wietla avatar + rolÄ™ "premium"
- âœ… UÅ¼ytkownik ma dostÄ™p do premium content

**Test Data:**
```json
{
  "email": "testuser@example.com",
  "role": "premium",
  "display_name": "Test User"
}
```

---

#### TC-AUTH-002: Magic Link Login - IstniejÄ…cy UÅ¼ytkownik

**Priorytet:** Krytyczny  
**User Story:** US-06

**Warunki poczÄ…tkowe:**
- UÅ¼ytkownik ma juÅ¼ konto w systemie
- UÅ¼ytkownik nie jest zalogowany

**Kroki:**
1. Nawigacja do `/auth/login`
2. WypeÅ‚nienie formularza email: `existinguser@example.com`
3. KlikniÄ™cie "WyÅ›lij link"
4. Redirect do `/auth/verify-email?email=existinguser@example.com`
5. UÅ¼ytkownik otwiera email "Magic Link Email"
6. KlikniÄ™cie linku w emailu
7. Redirect do `/auth/callback?token_hash=...&type=magiclink`

**Oczekiwany rezultat:**
- âœ… Email wysÅ‚any w < 5s
- âœ… Strona verify-email wyÅ›wietla komunikat "SprawdÅº swojÄ… skrzynkÄ™"
- âœ… Po klikniÄ™ciu linku - auto-login
- âœ… Redirect do `/` (lub original `redirect` param)
- âœ… Navbar wyÅ›wietla avatar + rolÄ™ uÅ¼ytkownika
- âœ… Session aktywna

---

#### TC-AUTH-003: Magic Link - Email Nie Istnieje (Security)

**Priorytet:** Wysoki  
**Security Test:** Email Enumeration Prevention

**Warunki poczÄ…tkowe:**
- Email `nonexistent@example.com` nie istnieje w systemie

**Kroki:**
1. Nawigacja do `/auth/login`
2. WypeÅ‚nienie formularza email: `nonexistent@example.com`
3. KlikniÄ™cie "WyÅ›lij link"

**Oczekiwany rezultat:**
- âœ… **Jednolity komunikat sukcesu**: "Link wysÅ‚any na podany adres email"
- âœ… Redirect do `/auth/verify-email` (identyczny jak dla existing user)
- âœ… W rzeczywistoÅ›ci: email NIE zostaÅ‚ wysÅ‚any (Supabase silent fail)
- âœ… UÅ¼ytkownik nie moÅ¼e stwierdziÄ‡ czy email istnieje w systemie

**Security Note:** Zapobiega Email Enumeration Attack

---

#### TC-AUTH-004: Session Refresh - Auto Odnowienie

**Priorytet:** Åšredni  
**User Story:** FR-11

**Warunki poczÄ…tkowe:**
- UÅ¼ytkownik zalogowany
- Session wygasa za < 5 min

**Kroki:**
1. UÅ¼ytkownik jest zalogowany
2. Czekaj 55 minut (access token expiry = 1h)
3. UÅ¼ytkownik wraca na kartÄ™ (visibility change event)

**Oczekiwany rezultat:**
- âœ… `useAuth` hook wykrywa zbliÅ¼ajÄ…ce siÄ™ wygaÅ›niÄ™cie
- âœ… Automatyczny refresh session (silent)
- âœ… Nowy access token uzyskany
- âœ… UÅ¼ytkownik pozostaje zalogowany (bez przerwania)
- âœ… Brak redirectu do `/auth/login`

---

#### TC-AUTH-005: Wylogowanie

**Priorytet:** Wysoki  
**User Story:** US-07

**Warunki poczÄ…tkowe:**
- UÅ¼ytkownik zalogowany

**Kroki:**
1. KlikniÄ™cie avatara w navbar
2. Dropdown menu â†’ "Wyloguj siÄ™"
3. Potwierdzenie akcji

**Oczekiwany rezultat:**
- âœ… Session cleared (cookies usuniÄ™te)
- âœ… Auth state updated â†’ navbar pokazuje "Zaloguj siÄ™"
- âœ… Toast notification: "Wylogowano pomyÅ›lnie"
- âœ… UÅ¼ytkownik pozostaje na tej samej stronie
- âœ… Premium content nie jest juÅ¼ dostÄ™pny

---

### 4.2 Kontrola DostÄ™pu

#### TC-ACCESS-001: Free User - PrÃ³ba DostÄ™pu do Premium Content

**Priorytet:** Krytyczny  
**User Story:** US-08, US-09

**Warunki poczÄ…tkowe:**
- UÅ¼ytkownik zalogowany z rolÄ… "free"
- Istnieje nagranie premium (is_premium = true)

**Kroki:**
1. UÅ¼ytkownik nawiguje do premium video: `/video/{premium-id}`
2. Strona Å‚aduje siÄ™

**Oczekiwany rezultat:**
- âœ… Strona siÄ™ Å‚aduje (200 OK, nie 403)
- âœ… Komponent `<PremiumGate />` wyÅ›wietlony
- âœ… Komunikat: "Ta treÅ›Ä‡ jest dostÄ™pna tylko dla uÅ¼ytkownikÃ³w premium"
- âœ… Kontaktowy email admina widoczny
- âœ… Video player NIE jest renderowany
- âœ… Thumbnail z badge "PREMIUM" wyÅ›wietlony

---

#### TC-ACCESS-002: Premium User - DostÄ™p do Premium Content

**Priorytet:** Krytyczny  
**User Story:** US-09

**Warunki poczÄ…tkowe:**
- UÅ¼ytkownik zalogowany z rolÄ… "premium"
- Istnieje nagranie premium (is_premium = true)

**Kroki:**
1. UÅ¼ytkownik nawiguje do premium video: `/video/{premium-id}`

**Oczekiwany rezultat:**
- âœ… Strona Å‚aduje siÄ™ (200 OK)
- âœ… Video player wyÅ›wietlony i funkcjonalny
- âœ… Video playback dziaÅ‚a (signed URL vygenerowany)
- âœ… Kontrolki odtwarzania dziaÅ‚ajÄ… (play/pause/volume/fullscreen)
- âœ… Brak `<PremiumGate />`

---

#### TC-ACCESS-003: Niezalogowany - Redirect do Login

**Priorytet:** Krytyczny  
**User Story:** US-08

**Warunki poczÄ…tkowe:**
- UÅ¼ytkownik NIE jest zalogowany
- Istnieje nagranie premium (is_premium = true)

**Kroki:**
1. UÅ¼ytkownik nawiguje bezpoÅ›rednio do: `/video/{premium-id}`

**Oczekiwany rezultat:**
- âœ… Redirect do `/auth/login?redirect=/video/{premium-id}` (302)
- âœ… Strona logowania wyÅ›wietla siÄ™
- âœ… Po zalogowaniu - automatyczny redirect do `/video/{premium-id}`

---

#### TC-ACCESS-004: Admin - DostÄ™p do Draft Videos

**Priorytet:** Åšredni  
**User Story:** US-14

**Warunki poczÄ…tkowe:**
- UÅ¼ytkownik zalogowany z rolÄ… "admin"
- Istnieje nagranie ze statusem "draft"

**Kroki:**
1. Admin nawiguje do: `/video/{draft-id}`

**Oczekiwany rezultat:**
- âœ… Strona Å‚aduje siÄ™ (200 OK)
- âœ… Video player wyÅ›wietlony
- âœ… Badge "DRAFT" widoczny w VideoHeader
- âœ… Video playback dziaÅ‚a

---

### 4.3 ModuÅ‚ Wideo - PrzeglÄ…danie i Odtwarzanie

#### TC-VIDEO-001: Lista NagraÅ„ - Strona GÅ‚Ã³wna

**Priorytet:** Krytyczny  
**User Story:** US-01

**Warunki poczÄ…tkowe:**
- Baza zawiera 3-4 testowe nagrania (mix free/premium)

**Kroki:**
1. Nawigacja do `/` (strona gÅ‚Ã³wna)

**Oczekiwany rezultat:**
- âœ… Strona Å‚aduje siÄ™ w < 3s
- âœ… VideoGrid wyÅ›wietla wszystkie published videos (free + premium)
- âœ… KaÅ¼da karta zawiera: thumbnail, tytuÅ‚, opis, duration, badge (free/premium)
- âœ… Layout responsywny: 3 kolumny (desktop), 2 (tablet), 1 (mobile)
- âœ… Skeleton loader wyÅ›wietlany podczas Å‚adowania

---

#### TC-VIDEO-002: Filtrowanie po Kategorii

**Priorytet:** Wysoki  
**User Story:** US-02

**Warunki poczÄ…tkowe:**
- Lista nagraÅ„ wyÅ›wietla siÄ™

**Kroki:**
1. KlikniÄ™cie dropdown "Kategoria"
2. WybÃ³r "Yoga"

**Oczekiwany rezultat:**
- âœ… URL updated: `/?category=yoga`
- âœ… Tylko nagrania z kategoriÄ… "yoga" wyÅ›wietlone
- âœ… Inne kategorie ukryte
- âœ… Liczba wynikÃ³w zaktualizowana
- âœ… EmptyState jeÅ›li brak wynikÃ³w

---

#### TC-VIDEO-003: Filtrowanie po Poziomie

**Priorytet:** Wysoki  
**User Story:** US-02

**Kroki:**
1. KlikniÄ™cie dropdown "Poziom"
2. WybÃ³r "Beginner"

**Oczekiwany rezultat:**
- âœ… URL updated: `/?level=beginner`
- âœ… Tylko nagrania z poziomem "beginner" wyÅ›wietlone

---

#### TC-VIDEO-004: Filtrowanie po Typie (Free/Premium)

**Priorytet:** Wysoki  
**User Story:** US-02

**Kroki:**
1. Toggle "Tylko darmowe"

**Oczekiwany rezultat:**
- âœ… URL updated: `/?is_premium=false`
- âœ… Tylko nagrania free wyÅ›wietlone
- âœ… Premium badges ukryte

---

#### TC-VIDEO-005: Kombinacja FiltrÃ³w

**Priorytet:** Åšredni

**Kroki:**
1. WybÃ³r "Yoga" + "Beginner" + "Tylko darmowe"

**Oczekiwany rezultat:**
- âœ… URL: `/?category=yoga&level=beginner&is_premium=false`
- âœ… Tylko nagrania speÅ‚niajÄ…ce wszystkie kryteria wyÅ›wietlone
- âœ… EmptyState jeÅ›li brak wynikÃ³w

---

#### TC-VIDEO-006: Video Playback - Podstawowa FunkcjonalnoÅ›Ä‡

**Priorytet:** Krytyczny  
**User Story:** US-10

**Warunki poczÄ…tkowe:**
- UÅ¼ytkownik ma dostÄ™p do nagrania (premium user lub free video)

**Kroki:**
1. Nawigacja do `/video/{id}`
2. Oczekiwanie na zaÅ‚adowanie video playera
3. KlikniÄ™cie play button

**Oczekiwany rezultat:**
- âœ… Video player renderuje siÄ™ w < 2s
- âœ… Thumbnail loading placeholder wyÅ›wietlony
- âœ… Po klikniÄ™ciu play - odtwarzanie rozpoczyna siÄ™
- âœ… Audio dziaÅ‚a
- âœ… Progress bar aktualizuje siÄ™
- âœ… Brak bÅ‚Ä™dÃ³w playback

---

#### TC-VIDEO-007: Video Player - Kontrolki

**Priorytet:** Wysoki  
**User Story:** US-10

**Kroki:**
1. Video player wyÅ›wietlony i odtwarzanie rozpoczÄ™te
2. Test kontrolek:
   - Play/Pause
   - Volume up/down
   - Mute/unmute
   - Fullscreen
   - Speed control (0.5x, 1x, 1.5x, 2x)
   - Seek (przewijanie)

**Oczekiwany rezultat:**
- âœ… Wszystkie kontrolki responsywne
- âœ… Volume persists po refreshu (localStorage)
- âœ… Fullscreen dziaÅ‚a na wszystkich przeglÄ…darkach
- âœ… Speed control zmienia prÄ™dkoÅ›Ä‡ odtwarzania
- âœ… Seek dziaÅ‚a pÅ‚ynnie

---

#### TC-VIDEO-008: Video Details - Metadata

**Priorytet:** Åšredni  
**User Story:** US-03

**Kroki:**
1. Nawigacja do `/video/{id}`
2. PrzeglÄ…d sekcji VideoDetails

**Oczekiwany rezultat:**
- âœ… VideoHeader: tytuÅ‚, badges (category, level, premium/free)
- âœ… VideoDescription: peÅ‚ny opis (expandable jeÅ›li dÅ‚ugi)
- âœ… Duration wyÅ›wietlony w formacie MM:SS
- âœ… Created/Updated dates (opcjonalnie)

---

### 4.4 API Endpoints

#### TC-API-001: GET /api/videos - Lista NagraÅ„

**Priorytet:** Wysoki

**Request:**
```http
GET /api/videos?category=yoga&limit=10
```

**Oczekiwany Response (200 OK):**
```json
{
  "data": [
    {
      "id": "uuid",
      "title": "Morning Yoga Flow",
      "category": "yoga",
      "level": "beginner",
      "duration": 900,
      "is_premium": false,
      "status": "published"
    }
  ],
  "meta": {
    "total": 42,
    "limit": 10,
    "offset": 0,
    "count": 10
  }
}
```

**Test Cases:**
- âœ… Bez filtrÃ³w - wszystkie published videos
- âœ… Z filtrem category=yoga
- âœ… Z filtrem level=beginner
- âœ… Z filtrem is_premium=false
- âœ… Invalid category â†’ 400 Bad Request
- âœ… RLS enforcement: free user nie widzi draft videos

---

#### TC-API-002: GET /api/videos/:id - Single Video

**Priorytet:** Wysoki

**Request:**
```http
GET /api/videos/{valid-uuid}
Authorization: Bearer {token}
```

**Oczekiwany Response (200 OK):**
```json
{
  "data": {
    "id": "uuid",
    "title": "Video Title",
    "description": "Full description",
    "video_url": "videos-free/file.mp4",
    "thumbnail_url": "thumbnails/file.jpg"
  }
}
```

**Test Cases:**
- âœ… Valid ID + authorized user â†’ 200
- âœ… Invalid UUID â†’ 400 Bad Request
- âœ… Non-existent ID â†’ 404 Not Found
- âœ… Premium video + free user â†’ 404 (RLS policy blocks)
- âœ… Premium video + premium user â†’ 200

---

#### TC-API-003: GET /api/health - Health Check

**Priorytet:** Niski

**Request:**
```http
GET /api/health
```

**Oczekiwany Response (200 OK):**
```json
{
  "status": "healthy",
  "services": {
    "api": "up",
    "database": "up",
    "storage": "up"
  }
}
```

---

### 4.5 ObsÅ‚uga BÅ‚Ä™dÃ³w

#### TC-ERROR-001: Network Error - API Unavailable

**Priorytet:** Åšredni

**Symulacja:**
- WyÅ‚Ä…czenie internetu / Supabase down

**Oczekiwany rezultat:**
- âœ… VideoPlayerError komponent wyÅ›wietlony
- âœ… Komunikat: "BÅ‚Ä…d poÅ‚Ä…czenia. SprawdÅº poÅ‚Ä…czenie z internetem."
- âœ… Przycisk "SprÃ³buj ponownie"
- âœ… Po klikniÄ™ciu - retry request

---

#### TC-ERROR-002: Video Playback Error - Corrupted File

**Priorytet:** Åšredni

**Symulacja:**
- Video file uszkodzony / format nieobsÅ‚ugiwany

**Oczekiwany rezultat:**
- âœ… VideoPlayerError wyÅ›wietlony
- âœ… Komunikat: "BÅ‚Ä…d odtwarzania. SprÃ³buj ponownie pÃ³Åºniej."
- âœ… Przycisk "PowrÃ³t do strony gÅ‚Ã³wnej"

---

#### TC-ERROR-003: 404 - Video Not Found

**Priorytet:** Wysoki

**Symulacja:**
- Nawigacja do `/video/{non-existent-id}`

**Oczekiwany rezultat:**
- âœ… VideoPlayerError wyÅ›wietlony
- âœ… Komunikat: "Nie znaleziono nagrania"
- âœ… Przycisk "PowrÃ³t do strony gÅ‚Ã³wnej"

---

#### TC-ERROR-004: Magic Link Expired

**Priorytet:** Wysoki

**Symulacja:**
- KlikniÄ™cie magic link po > 60 min

**Oczekiwany rezultat:**
- âœ… Redirect do `/auth/error?code=invalid_token`
- âœ… Komunikat: "Link logowania wygasÅ‚ lub jest nieprawidÅ‚owy"
- âœ… Link "PrzejdÅº do logowania"

---

## 5. Åšrodowisko Testowe

### 5.1 Konfiguracja Åšrodowisk

#### Development Environment
- **URL:** `http://localhost:3000`
- **Supabase:** Projekt testowy (development)
- **Dane:** Seeded test data (3-4 videos)
- **Users:** 5 test users (2 free, 2 premium, 1 admin)

#### Staging/Production Environment
- **URL:** `https://[domain]` (VPS OVH)
- **Supabase:** Produkcyjny projekt
- **Dane:** Realne nagrania
- **Users:** Rzeczywisci uÅ¼ytkownicy (~20 osÃ³b)

### 5.2 Test Data

**Test Users:**
```javascript
const testUsers = [
  { email: "free1@test.com", role: "free", password: "magiclink" },
  { email: "free2@test.com", role: "free", password: "magiclink" },
  { email: "premium1@test.com", role: "premium", password: "magiclink" },
  { email: "premium2@test.com", role: "premium", password: "magiclink" },
  { email: "admin@test.com", role: "admin", password: "magiclink" }
];
```

**Test Videos:**
```javascript
const testVideos = [
  { id: "uuid-1", title: "Morning Yoga", category: "yoga", level: "beginner", is_premium: false, duration: 120 },
  { id: "uuid-2", title: "Advanced Mobility", category: "mobility", level: "advanced", is_premium: true, duration: 180 },
  { id: "uuid-3", title: "Calisthenics Basics", category: "calisthenics", level: "beginner", is_premium: false, duration: 150 },
  { id: "uuid-4", title: "Premium Yoga Flow", category: "yoga", level: "intermediate", is_premium: true, duration: 200 }
];
```

### 5.3 PrzeglÄ…darki i UrzÄ…dzenia

**PrzeglÄ…darki:**
- âœ… Chrome (latest) - Primary
- âœ… Firefox (latest) - Secondary
- âœ… Safari (iOS) - Mobile testing
- âš ï¸ Edge - Nice to have (Chromium-based, similar to Chrome)

**UrzÄ…dzenia:**
- ğŸ–¥ï¸ Desktop: 1920x1080, 1366x768
- ğŸ“± Tablet: iPad (1024x768)
- ğŸ“± Mobile: iPhone 12 (390x844), Android (360x800)

---

## 6. NarzÄ™dzia do Testowania

### 6.1 Manual Testing Tools

**Browser DevTools:**
- Network tab - monitoring API requests
- Console - JavaScript errors
- Application tab - cookies, localStorage inspection
- Performance tab - performance metrics

**Supabase Dashboard:**
- Authentication logs
- Database queries (SQL Editor)
- Storage file management
- RLS policy testing

**Postman/Insomnia:**
- API testing (kolekcja requestÃ³w)
- Environment variables
- Pre-request scripts (auth token)

### 6.2 Automated Testing Tools (Future)

**Playwright (E2E Testing):**
```typescript
// PrzykÅ‚ad testu E2E
test('user can login with magic link', async ({ page }) => {
  await page.goto('/auth/login');
  await page.fill('input[type="email"]', 'test@example.com');
  await page.click('button[type="submit"]');
  await expect(page).toHaveURL(/\/auth\/verify-email/);
});
```

**Vitest (Unit Testing):**
```typescript
// PrzykÅ‚ad testu jednostkowego
describe('useAuth hook', () => {
  it('should initialize with null user', () => {
    const { result } = renderHook(() => useAuth());
    expect(result.current.user).toBeNull();
  });
});
```

**axe DevTools (Accessibility):**
- Automated accessibility scanning
- WCAG 2.1 compliance checks

### 6.3 Performance Testing Tools

**Lighthouse:**
- Performance score
- Accessibility score
- Best practices
- SEO score

**WebPageTest:**
- Detailed waterfall analysis
- Real device testing
- Video recording of load

---

## 7. Harmonogram TestÃ³w

### 7.1 Timeline (3 tygodnie development)

**TydzieÅ„ 1: Development + Unit Testing**
- Dev implementuje funkcje
- Continuous testing podczas development
- Unit tests dla critical functions

**TydzieÅ„ 2: Integration + Functional Testing**
- API integration testing
- Functional testing (manual)
- Bug fixing cycle

**TydzieÅ„ 3: Security + Performance + UAT**
- Security testing (checklist)
- Performance optimization
- User Acceptance Testing (2-3 beta users)
- Final bug fixes
- Pre-production smoke tests

### 7.2 Test Cycles

**Daily (During Development):**
- Smoke tests po kaÅ¼dym commitcie
- Browser console errors check
- Quick regression checks

**Weekly:**
- PeÅ‚ny functional test pass
- Cross-browser testing
- Performance metrics review

**Before Deployment:**
- Complete regression suite
- Security checklist verification
- Production smoke tests (post-deploy)

---

## 8. Kryteria Akceptacji TestÃ³w

### 8.1 Exit Criteria (Ready for Production)

**Must Have (Blockers):**
- âœ… Zero bÅ‚Ä™dÃ³w krytycznych (severity: critical)
- âœ… Wszystkie user stories z PRD przetestowane i dziaÅ‚ajÄ…
- âœ… Autentykacja dziaÅ‚a w 100% przypadkÃ³w (invite + magic link)
- âœ… Kontrola dostÄ™pu dziaÅ‚a poprawnie (RLS policies)
- âœ… Video playback bez bÅ‚Ä™dÃ³w dla uprawnionego uÅ¼ytkownika
- âœ… Security checklist 100% completed
- âœ… Performance: Lighthouse score > 80 (desktop)
- âœ… ResponsywnoÅ›Ä‡ na wszystkich breakpointach

**Should Have (Nice to Have):**
- âœ… Accessibility: WCAG 2.1 AA compliance > 90%
- âœ… Performance: Lighthouse score > 90 (desktop)
- âœ… Zero bÅ‚Ä™dÃ³w wysokiego priorytetu (severity: high)
- âœ… Cross-browser compatibility (Chrome, Firefox, Safari)

**Could Have (Post-MVP):**
- E2E automated tests coverage > 50%
- Unit tests coverage > 70%
- Perfromance: Mobile Lighthouse score > 70

### 8.2 Bug Severity Levels

**Critical (P0) - Blocker:**
- Aplikacja nie startuje
- Brak moÅ¼liwoÅ›ci logowania (invite/magic link)
- Brak dostÄ™pu do premium content dla premium users
- Data breach / security vulnerability
- **Action:** Fix immediately, block deployment

**High (P1) - Major:**
- Video nie odtwarza siÄ™
- Filtrowanie nie dziaÅ‚a
- Session nie refreshuje siÄ™ automatycznie
- **Action:** Fix within 24h, deploy ASAP

**Medium (P2) - Minor:**
- UI glitches (layout, styling)
- Loading state nie wyÅ›wietla siÄ™ poprawnie
- Error messages nieintuicyjne
- **Action:** Fix in next sprint

**Low (P3) - Trivial:**
- Typo w tekÅ›cie
- Hover effect delay
- Minor accessibility issues
- **Action:** Backlog, fix when time permits

---

## 9. Role i OdpowiedzialnoÅ›ci w Procesie Testowania

### 9.1 ZespÃ³Å‚ (Solo Developer + Opcjonalnie QA)

**Developer (Ty):**
- âœ… Unit testing podczas development
- âœ… Integration testing (API)
- âœ… Functional testing (manual)
- âœ… Security testing (checklist)
- âœ… Performance optimization
- âœ… Bug fixing
- âœ… Code reviews (self-review)

**QA Tester (Opcjonalnie - jeÅ›li dostÄ™pny):**
- âœ… Manual functional testing
- âœ… Exploratory testing
- âœ… Regression testing
- âœ… User Acceptance Testing coordination
- âœ… Bug reporting

**Beta Users (2-3 osoby z docelowej grupy):**
- âœ… User Acceptance Testing (UAT)
- âœ… Real-world usage scenarios
- âœ… Feedback on UX/UI
- âœ… Bug reporting (critical issues)

---

## 10. Procedury Raportowania BÅ‚Ä™dÃ³w

### 10.1 Bug Report Template

```markdown
## Bug Report

**ID:** BUG-{number}  
**Title:** KrÃ³tki, opisowy tytuÅ‚  
**Severity:** Critical / High / Medium / Low  
**Status:** New / In Progress / Fixed / Verified / Closed  

**Environment:**
- URL: http://localhost:3000 / https://[production]
- Browser: Chrome 120 / Firefox 121 / Safari 17
- Device: Desktop / Mobile (iPhone 12)
- OS: Windows 11 / macOS Sonoma / iOS 17

**Steps to Reproduce:**
1. Krok 1
2. Krok 2
3. Krok 3

**Expected Result:**
Co powinno siÄ™ staÄ‡

**Actual Result:**
Co faktycznie siÄ™ staÅ‚o

**Screenshots/Video:**
[ZaÅ‚Ä…cz screenshot lub link do video]

**Console Errors:**
```
[Skopiuj bÅ‚Ä™dy z browser console]
```

**Additional Info:**
- User role: free / premium / admin
- Network conditions: online / offline / slow 3G
- Reproducibility: Always / Sometimes / Once
```

### 10.2 Bug Workflow

1. **Discovery:** Bug znaleziony podczas testowania
2. **Report:** Utworzenie bug reportu (wedÅ‚ug template)
3. **Triage:** Przypisanie severity + priority
4. **Assignment:** Przypisanie do developera (self-assign)
5. **Fix:** Developer naprawia bug
6. **Verification:** Re-test by QA/Developer
7. **Regression:** Sprawdzenie czy fix nie wprowadziÅ‚ nowych bugÃ³w
8. **Closure:** Bug closed jeÅ›li verified

### 10.3 Bug Tracking Tool

**Opcje:**
- **GitHub Issues** (recommended dla solo dev)
  - Labels: bug, critical, high, medium, low
  - Projects board: To Do / In Progress / Done
- **Notion** (alternatywa)
  - Database z custom properties
  - Kanban view
- **Linear** (opcjonalnie)
  - Professional issue tracking
  - Integrates with Git

---

## 11. Ryzyka i Mitigacje

### 11.1 Obszary Wysokiego Ryzyka

#### Ryzyko 1: Supabase Auth Integration Issues

**Opis:** Problemy z konfiguracjÄ… Supabase Auth (callback URLs, email templates)

**Impact:** Krytyczny - brak moÅ¼liwoÅ›ci logowania

**Mitigacja:**
- âœ… DokÅ‚adne przetestowanie invite flow + magic link flow
- âœ… Weryfikacja callback URL configuration w Supabase Dashboard
- âœ… Test email delivery (sprawdzenie spam folder)
- âœ… Monitoring auth events w Supabase logs

**Plan B:**
- Backup: Fallback do passwordless email (jeÅ›li magic link fails)
- Temporary: Manual account creation by admin w Supabase Dashboard

---

#### Ryzyko 2: RLS Policies Misconfiguration

**Opis:** RLS policies nie dziaÅ‚ajÄ… poprawnie â†’ data leak lub brak dostÄ™pu

**Impact:** Krytyczny - security breach lub funkcjonalnoÅ›Ä‡ zepsuta

**Mitigacja:**
- âœ… DokÅ‚adne przetestowanie kaÅ¼dej RLS policy
- âœ… Test z rÃ³Å¼nymi rolami (free/premium/admin)
- âœ… Verify policies w Supabase SQL Editor
- âœ… Negative testing - prÃ³ba dostÄ™pu bez uprawnieÅ„

**Plan B:**
- Emergency: Disable RLS tymczasowo, implement server-side auth checks

---

#### Ryzyko 3: Video Playback Issues

**Opis:** Video nie odtwarza siÄ™ (format, signed URLs, network issues)

**Impact:** Wysoki - core functionality nie dziaÅ‚a

**Mitigacja:**
- âœ… Test na rÃ³Å¼nych przeglÄ…darkach/urzÄ…dzeniach
- âœ… Weryfikacja formatÃ³w wideo (MP4 H.264)
- âœ… Test signed URL expiry + regeneration
- âœ… Fallback na public URLs dla free content

**Plan B:**
- Fallback: Link do downloadowania wideo (jeÅ›li playback fails)
- Alternative: YouTube private links (temporary)

---

#### Ryzyko 4: Performance Issues (Slow Loading)

**Opis:** Strona Å‚aduje siÄ™ wolno (> 5s), video buffering

**Impact:** Åšredni - poor UX, users frustrated

**Mitigacja:**
- âœ… Optimize bundle size (code splitting)
- âœ… Image optimization (thumbnail compression)
- âœ… CDN dla static assets
- âœ… Lazy loading dla komponentÃ³w React

**Plan B:**
- Optimize later (post-MVP) jeÅ›li nie blocker
- Reduce video quality (lower bitrate)

---

#### Ryzyko 5: Time Constraints (3 tygodnie)

**Opis:** Brak czasu na comprehensive testing

**Impact:** Åšredni - bugs w produkcji

**Mitigacja:**
- âœ… Priorytetyzacja testÃ³w: critical paths first
- âœ… Automated smoke tests (jeÅ›li czas pozwala)
- âœ… Beta testing z 2-3 users przed public release
- âœ… Post-launch monitoring (Supabase logs)

**Plan B:**
- Staged rollout - deploy do maÅ‚ej grupy (5 users) najpierw
- Quick fix cycles post-launch (monitoring + rapid response)

---

## 12. Podsumowanie i NastÄ™pne Kroki

### 12.1 Podsumowanie Planu

Ten plan testÃ³w definiuje kompleksowÄ… strategiÄ™ testowania dla MVP platformy wideo z Ä‡wiczeniami fizycznymi. Skupia siÄ™ na:

1. **Krytycznych przepÅ‚ywach autentykacji** (invite + magic link)
2. **Kontroli dostÄ™pu** (RLS policies, premium gating)
3. **Core functionality** (przeglÄ…danie i odtwarzanie wideo)
4. **BezpieczeÅ„stwie** (session management, XSS/CSRF prevention)
5. **WydajnoÅ›ci i dostÄ™pnoÅ›ci** (< 3s load time, WCAG AA compliance)

### 12.2 NastÄ™pne Kroki

**Faza 1: Przygotowanie (TydzieÅ„ 1)**
- [ ] Setup test environment (Supabase dev project)
- [ ] Create test users (5 accounts: 2 free, 2 premium, 1 admin)
- [ ] Upload test videos (3-4 nagrania)
- [ ] Setup Postman collection (API tests)

**Faza 2: Continuous Testing (TydzieÅ„ 1-2)**
- [ ] Unit testing podczas development
- [ ] Daily smoke tests
- [ ] Integration testing (API + Supabase)

**Faza 3: Comprehensive Testing (TydzieÅ„ 2-3)**
- [ ] Functional testing (all scenarios)
- [ ] Security testing (checklist)
- [ ] Performance testing (Lighthouse)
- [ ] Cross-browser testing

**Faza 4: Pre-Launch (TydzieÅ„ 3)**
- [ ] User Acceptance Testing (2-3 beta users)
- [ ] Final bug fixes
- [ ] Production smoke tests
- [ ] Go/No-Go decision

**Faza 5: Post-Launch Monitoring**
- [ ] Monitor Supabase logs (auth, errors)
- [ ] User feedback collection
- [ ] Quick bug fixes (P0/P1)
- [ ] Iterative improvements

---

## Appendix A: Test Checklist (Quick Reference)

### Pre-Deployment Checklist

**Autentykacja:**
- [ ] TC-AUTH-001: Invite Flow dziaÅ‚a
- [ ] TC-AUTH-002: Magic Link Login dziaÅ‚a
- [ ] TC-AUTH-003: Email enumeration prevention verified
- [ ] TC-AUTH-004: Session refresh dziaÅ‚a
- [ ] TC-AUTH-005: Logout dziaÅ‚a

**Kontrola DostÄ™pu:**
- [ ] TC-ACCESS-001: Free user â†’ Premium Gate wyÅ›wietla siÄ™
- [ ] TC-ACCESS-002: Premium user â†’ Full access do premium content
- [ ] TC-ACCESS-003: Niezalogowany â†’ Redirect do login
- [ ] TC-ACCESS-004: Admin â†’ DostÄ™p do draft videos

**Video:**
- [ ] TC-VIDEO-001: Lista nagraÅ„ wyÅ›wietla siÄ™
- [ ] TC-VIDEO-002: Filtrowanie po kategorii dziaÅ‚a
- [ ] TC-VIDEO-003: Filtrowanie po poziomie dziaÅ‚a
- [ ] TC-VIDEO-004: Filtrowanie po typie dziaÅ‚a
- [ ] TC-VIDEO-006: Video playback dziaÅ‚a
- [ ] TC-VIDEO-007: Kontrolki video playera dziaÅ‚ajÄ…

**API:**
- [ ] TC-API-001: GET /api/videos dziaÅ‚a
- [ ] TC-API-002: GET /api/videos/:id dziaÅ‚a
- [ ] TC-API-003: GET /api/health dziaÅ‚a

**Security:**
- [ ] HttpOnly cookies enabled
- [ ] HTTPS enforced (production)
- [ ] RLS policies enabled
- [ ] Rate limiting configured
- [ ] Input validation (Zod)

**Performance:**
- [ ] Lighthouse score > 80 (desktop)
- [ ] Load time < 3s
- [ ] Video playback start < 2s

---

## Appendix B: Known Limitations (MVP)

**Out of Scope - Nie testujemy:**
- âŒ Admin panel UI (zarzÄ…dzanie przez Supabase Dashboard)
- âŒ Upload wideo przez UI
- âŒ PÅ‚atnoÅ›ci online
- âŒ User profile editing
- âŒ Playlisty
- âŒ Komentarze
- âŒ Analytics tracking
- âŒ Multi-language support
- âŒ Light theme
- âŒ Email notifications (poza auth emails)

**Technical Debt (Post-MVP):**
- Automated E2E tests (Playwright)
- Unit tests coverage > 70%
- Performance optimization (code splitting)
- Advanced monitoring (Sentry, LogRocket)

---

**Koniec Planu TestÃ³w** - Wersja 1.0 (2026-01-24)